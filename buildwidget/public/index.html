<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gradle Build Status Widget</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="navbar">
            <div></div>
            <div id="connectionStatus" class="connection-status disconnected" title="Connecting to build server..."></div>
        </div>
        <header>
            <h1>Galactic Expansion Mod</h1>
            <h2>Build Status Dashboard</h2>
        </header>

        <div class="build-controls">
            <div class="control-group">
                <select id="buildCommand">
                    <option value="clean build">clean build</option>
                    <option value="build">build</option>
                    <option value="test">test</option>
                    <option value=":core:build">core:build</option>
                    <option value=":power:build">power:build</option>
                    <option value=":machinery:build">machinery:build</option>
                    <option value=":biotech:build">biotech:build</option>
                    <option value=":construction:build">construction:build</option>
                    <option value=":robotics:build">robotics:build</option>
                    <option value=":space:build">space:build</option>
                    <option value=":utilities:build">utilities:build</option>
                    <option value=":vehicles:build">vehicles:build</option>
                    <option value=":weaponry:build">weaponry:build</option>
                </select>
                <button id="startBuild" class="btn btn-primary">Start Build</button>
                <button id="stopBuild" class="btn btn-danger" disabled>Stop Build</button>
                <button id="createRelease" class="btn btn-success" disabled>Create GitHub Release</button>
            </div>
        </div>

        <!-- Version Information Section -->
        <div class="version-info-section">
            <h4>Version Information</h4>
            <div class="version-content">
                <div class="version-details">
                    <div class="version-number">Current Version: <strong id="currentVersion">0.1.0</strong></div>
                    <div class="version-date" id="lastReleaseDate">Last Release: None</div>
                    <div class="version-modules">
                        Release Modules: All core and extension modules with categorized changelogs
                    </div>
                </div>
            </div>
        </div>

        <div class="build-status">
            <div class="status-header">
                <h3>Build Status: <span id="buildStatusText">Idle</span></h3>
                <div class="build-time" id="buildTime"></div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
                <div class="progress-text" id="progressText">0%</div>
            </div>
        </div>

        <div class="module-status">
            <h3>Module Status</h3>
            <div class="module-grid">
                <div class="module-card" id="module-core">
                    <div class="module-name">Core</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
                <div class="module-card" id="module-power">
                    <div class="module-name">Power</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
                <div class="module-card" id="module-machinery">
                    <div class="module-name">Machinery</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
                <div class="module-card" id="module-biotech">
                    <div class="module-name">Biotech</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
                <div class="module-card" id="module-construction">
                    <div class="module-name">Construction</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
                <div class="module-card" id="module-robotics">
                    <div class="module-name">Robotics</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
                <div class="module-card" id="module-space">
                    <div class="module-name">Space</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
                <div class="module-card" id="module-utilities">
                    <div class="module-name">Utilities</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
                <div class="module-card" id="module-vehicles">
                    <div class="module-name">Vehicles</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
                <div class="module-card" id="module-weaponry">
                    <div class="module-name">Weaponry</div>
                    <div class="module-indicator pending"></div>
                    <div class="module-task"></div>
                </div>
            </div>
        </div>

        <div class="build-output">
            <h3>Build Output</h3>
            <div class="output-controls">
                <button id="clearOutput" class="btn btn-secondary">Clear Output</button>
                <label for="autoScroll">
                    <input type="checkbox" id="autoScroll" checked> Auto-scroll
                </label>
            </div>
            <div class="output-container">
                <pre id="outputText"></pre>
            </div>
        </div>

        <div class="task-list">
            <h3>Recent Tasks</h3>
            <div class="task-container" id="taskContainer">
                <!-- Tasks will be added here dynamically -->
            </div>
        </div>
        
        <div class="build-timeline">
            <h3>Build Timeline</h3>
            <div class="timeline-container" id="timelineContainer">
                <!-- Timeline will be generated here -->
            </div>
        </div>
        
        <div class="build-metrics">
            <h3>Build Metrics</h3>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-title">Average Build Time</div>
                    <div class="metric-value" id="averageBuildTime">-</div>
                </div>
                <div class="metric-card">
                    <div class="metric-title">Success Rate</div>
                    <div class="metric-value" id="successRate">-</div>
                </div>
                <div class="metric-card">
                    <div class="metric-title">Last Successful</div>
                    <div class="metric-value" id="lastSuccessful">-</div>
                </div>
                <div class="metric-card">
                    <div class="metric-title">Build Count</div>
                    <div class="metric-value" id="buildCount">0</div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>